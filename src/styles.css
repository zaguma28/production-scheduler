/* ÁîüÁî£Ë®àÁîª„Çπ„Ç±„Ç∏„É•„Éº„É©„Éº Design inspired by Modern Apple Aesthetic */
:root {
    /* Apple System Colors */
    --system-blue: #007AFF;
    --system-gray: #8E8E93;
    --system-gray2: #AEAEB2;
    --system-gray3: #C7C7CC;
    --system-gray4: #D1D1D6;
    --system-gray5: #E5E5EA;
    --system-gray6: #F2F2F7;
    --system-red: #FF3B30;
    --system-orange: #FF9500;
    --system-yellow: #FFCC00;
    --system-green: #34C759;
    --system-teal: #5AC8FA;
    --system-indigo: #5856D6;

    /* Semantic Aliases */
    --primary-color: var(--system-blue);
    --secondary-color: var(--system-gray);
    --success-color: var(--system-green);
    --warning-color: var(--system-orange);
    --danger-color: var(--system-red);
    --background-color: #F5F5F7;
    --card-background: #FFFFFF;
    --text-primary: #1D1D1F;
    --text-secondary: #86868B;
    --border-color: #D2D2D7;
    
    /* Shadows & Effects */
    --shadow-sm: 0 2px 5px rgba(0,0,0,0.05);
    --shadow-md: 0 5px 15px rgba(0,0,0,0.08);
    --shadow-lg: 0 15px 35px rgba(0,0,0,0.12);
    --glass-bg: rgba(255, 255, 255, 0.8);
    --glass-border: rgba(255, 255, 255, 0.5);
    --backdrop-blur: blur(20px);
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro JP", "Hiragino Kaku Gothic ProN", "Yu Gothic", sans-serif;
    background-color: var(--background-color);
    color: var(--text-primary);
    line-height: 1.5;
    font-size: 15px;
}

.app-container {
    display: flex;
    flex-direction: column;
    height: 100vh;
}

/* „Éò„ÉÉ„ÉÄ„Éº - Glassmorphism */
.header {
    background: var(--glass-bg);
    backdrop-filter: var(--backdrop-blur);
    border-bottom: 1px solid rgba(0,0,0,0.05);
    padding: 16px 32px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: sticky;
    top: 0;
    z-index: 100;
}

.header h1 {
    font-size: 20px;
    font-weight: 600;
    color: var(--text-primary);
    letter-spacing: -0.5px;
}

.header-actions {
    display: flex;
    gap: 12px;
}

/* „Éú„Çø„É≥ - iOS Style */
.btn {
    padding: 8px 16px;
    border: none;
    border-radius: 999px; /* Pill shape */
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    transition: all 0.2s cubic-bezier(0.25, 0.1, 0.25, 1);
    display: inline-flex;
    align-items: center;
    gap: 6px;
    outline: none;
}

.btn:active {
    transform: scale(0.96);
}

.btn-primary {
    background-color: var(--primary-color);
    color: white;
    box-shadow: 0 2px 8px rgba(0, 122, 255, 0.25);
}

.btn-primary:hover {
    background-color: #0071EB;
    box-shadow: 0 4px 12px rgba(0, 122, 255, 0.35);
}

.btn-secondary {
    background-color: rgba(0,0,0,0.05);
    color: var(--text-primary);
    border: 1px solid transparent;
}

.btn-secondary:hover {
    background-color: rgba(0,0,0,0.1);
}

.btn-icon {
    width: 36px;
    height: 36px;
    padding: 0;
    justify-content: center;
    border-radius: 50%;
    background: transparent;
    color: var(--primary-color);
}

.btn-icon:hover {
    background: rgba(0, 122, 255, 0.1);
}

.btn-small {
    padding: 6px 12px;
    font-size: 13px;
}

.btn-large {
    padding: 10px 24px;
    font-size: 16px;
}

/* „Çø„Éñ - Segmented Control Style */
.tabs {
    background: var(--card-background);
    display: flex;
    justify-content: center;
    padding: 12px 16px;
    border-bottom: 1px solid var(--border-color);
}

.tab {
    padding: 8px 24px;
    margin: 0 4px;
    border: none;
    background: transparent;
    cursor: pointer;
    font-size: 14px;
    color: var(--text-secondary);
    border-radius: 8px;
    font-weight: 500;
    transition: all 0.2s;
}

.tab:hover {
    color: var(--text-primary);
    background: rgba(0,0,0,0.03);
}

.tab.active {
    color: var(--primary-color);
    background: rgba(0, 122, 255, 0.1);
    font-weight: 600;
}

/* „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ */
.main-content {
    flex: 1;
    overflow: hidden; 
    padding: 24px;
    background-color: var(--background-color);
    position: relative;
}

.view {
    display: none;
    height: 100%;
    flex-direction: column;
}

.view.active {
    display: flex;
}

/* Explicit scroll context for table view */
#schedule-view.view.active {
    overflow: auto;
}

.view-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
    padding-bottom: 0;
    border-bottom: none;
}

.view-header h2 {
    font-size: 28px;
    font-weight: 700;
    color: var(--text-primary);
    letter-spacing: -0.5px;
}

/* „Ç¨„É≥„Éà„ÉÅ„É£„Éº„Éà - Modern Flat & Rounded */
.gantt-container {
    overflow: auto;
    background: var(--card-background);
    border-radius: 16px;
    box-shadow: var(--shadow-sm);
    border: 1px solid rgba(0,0,0,0.05);
    flex: 1;
    position: relative;
}

.gantt-timeline {
    display: flex;
    background: white;
    position: sticky;
    top: 0;
    z-index: 50;
    border-bottom: 1px solid var(--border-color);
    width: fit-content; /* ‰∏≠Ë∫´„ÅÆÂπÖ„Å´Âêà„Çè„Åõ„Çã */
    min-width: 1640px;
}

.gantt-timeline > div {
    font-size: 13px;
    font-weight: 600;
    color: var(--text-secondary);
    padding: 12px 0;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.gantt-rows {
    width: fit-content; /* ‰∏≠Ë∫´„ÅÆÂπÖ„Å´Âêà„Çè„Åõ„Çã */
    min-width: 1640px;
}

.gantt-row {
    display: flex;
    border-bottom: 1px solid #000; /* Êó•‰ªòÂ¢ÉÁïåÁ∑ö„Çí„Åï„Çâ„Å´ÊøÉ„ÅèÔºàÈªíÔºâÂ§âÊõ¥ */
    min-height: 130px;
    position: relative;
    transition: background-color 0.2s;
}

.gantt-row:hover {
    background-color: #F8F8F8; 
}

.gantt-row-label {
    width: 140px;
    padding: 0 20px;
    background: white; /* Fallback */
    background: rgba(255,255,255,0.95);
    backdrop-filter: blur(8px);
    font-weight: 600;
    font-size: 16px;
    color: var(--text-primary);
    display: flex;
    align-items: center;
    flex-shrink: 0;
    border-right: 1px solid var(--border-color);
    position: sticky;
    left: 0;
    z-index: 40;
    box-shadow: 2px 0 5px rgba(0,0,0,0.02);
}

.gantt-row-content {
    position: relative;
    /* 25h * 60px = 1500px „Å´„Åó„Å¶„ÄÅ„Éò„ÉÉ„ÉÄ„Éº(6:00„ÄúÁøå6:00)„Å®Âêà„Çè„Åõ„Çã */
    width: 1500px; 
    flex-shrink: 0;
    min-height: 100%;
    
    /* 1ÊôÇÈñì = 60px */
    background-image: repeating-linear-gradient(
        90deg,
        transparent,
        transparent 59px,
        #F5F5F7 59px,
        #F5F5F7 60px
    );
     background-size: 60px 100%;
     border-left: 1px solid rgba(0,0,0,0.05);
}

/* „Ç¨„É≥„Éà„Éê„Éº */
.gantt-bar {
    position: absolute;
    height: 110px;
    border-radius: 14px; 
    color: var(--text-primary); /* ÈªíÊñáÂ≠ó„Å´Â§âÊõ¥ */
    font-size: 14px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 10px 16px;
    cursor: default;
    transition: all 0.2s cubic-bezier(0.2, 0.8, 0.2, 1);
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    user-select: none;
    border: 1px solid rgba(255,255,255,0.15);
}

.gantt-bar:hover {
    transform: translateY(-2px) scale(1.01);
    box-shadow: 0 8px 16px rgba(0,0,0,0.2);
    z-index: 30;
    cursor: grab;
}

.gantt-bar:active {
    cursor: grabbing;
    transform: scale(0.98);
}

/* ÂàÜÂâ≤„Éê„ÉºÔºàÊó•‰ªò„Åæ„Åü„ÅéÔºâ„ÅÆ„Çπ„Çø„Ç§„É´ */
.gantt-bar.split-start {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    border-left: none; /* Â¢ÉÁïåÁ∑ö„Å™„Åó„ÅßÈÄ£Á∂öÊÄß„ÇíË°®Áèæ */
    margin-left: -1px; /* ÈöôÈñìÂüã„ÇÅ */
}

.gantt-bar.split-end {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
    border-right: none;
    margin-right: -1px;
}

/* „Éâ„É©„ÉÉ„Ç∞‰∏≠„ÅÆ„Ç¥„Éº„Çπ„Éà */
.gantt-ghost {
    pointer-events: none;
    opacity: 0.6 !important;
    filter: grayscale(0.5);
    transform: scale(0.98);
}

.bar-product {
    font-weight: 700;
    font-size: 17px; 
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    margin-bottom: 4px;
    letter-spacing: -0.3px;
    text-shadow: 0 1px 2px rgba(0,0,0,0.1);
}

.bar-quantity {
    font-size: 15px;
    font-weight: 500;
    opacity: 0.95;
    margin-bottom: 2px;
}

.bar-notes {
    font-size: 13px;
    opacity: 0.85;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Drop Preview */
.drop-preview {
    position: absolute;
    height: 110px;
    border-radius: 14px;
    border: 2px dashed var(--system-blue);
    background-color: rgba(0, 122, 255, 0.1);
    pointer-events: none;
    z-index: 100;
}

.preview-time-label {
    position: absolute;
    top: -40px;
    left: 50%;
    transform: translateX(-50%);
    background-color: var(--system-blue);
    color: white;
    padding: 6px 16px;
    border-radius: 20px;
    font-size: 14px;
    font-weight: 600;
    white-space: nowrap;
    box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3);
}

/* „Çπ„ÉÜ„Éº„Çø„Çπ„Éâ„ÉÉ„Éà */
.bar-status {
    position: absolute;
    top: 10px;
    right: 12px;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    font-size: 0; 
    box-shadow: 0 0 4px rgba(255,255,255,0.5);
}

/* „Çπ„ÉÜ„Éº„Çø„Çπ„Ç´„É©„Éº adjustments for better contrast/modern look */
/* „Çπ„ÉÜ„Éº„Çø„Çπ„Ç´„É©„Éº adjustments for better contrast with black text */
.gantt-bar.status-pending {
    background: linear-gradient(135deg, #FFD699, #FFCC80); /* Pastel Orange */
    border: 1px solid #FFB74D;
}

.gantt-bar.status-inprogress {
    background: linear-gradient(135deg, #A6D6FF, #90CAF9); /* Pastel Blue */
    border: 1px solid #64B5F6;
}

.gantt-bar.status-completed {
    background: linear-gradient(135deg, #E0E0E0, #D6D6D6); /* Pastel Gray */
    border: 1px solid #BDBDBD;
    opacity: 0.8;
}

/* „ÉÜ„Éº„Éñ„É´ view container needs card styling */
#list-view .schedule-table-container {
    background: var(--card-background);
    border-radius: 16px;
    box-shadow: var(--shadow-sm);
    overflow: hidden; /* rounded corners */
    border: 1px solid rgba(0,0,0,0.05);
}

/* „ÉÜ„Éº„Éñ„É´ */
.schedule-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
}

.schedule-table th {
    text-align: left;
    padding: 16px 20px;
    font-weight: 600;
    color: var(--text-secondary);
    border-bottom: 1px solid var(--border-color);
    background: var(--system-gray6);
    position: sticky;
    top: 0;
    z-index: 10;
}

.schedule-table td {
    padding: 16px 20px;
    border-bottom: 1px solid var(--system-gray6);
    color: var(--text-primary);
    vertical-align: middle;
}

.schedule-table tr:last-child td {
    border-bottom: none;
}

.schedule-table tr:hover td {
    background: #FAFAFC;
}

.status-badge {
    padding: 6px 12px;
    border-radius: 999px;
    font-size: 12px;
    font-weight: 600;
    display: inline-block;
}

.status-badge.pending { background: rgba(255, 149, 0, 0.15); color: #B36B00; }
.status-badge.synced { background: rgba(52, 199, 89, 0.15); color: #248A3D; }
.status-badge.modified { background: rgba(0, 122, 255, 0.15); color: #0071EB; }

/* „Éï„Ç©„Éº„É† layout */
.form {
    background: var(--card-background);
    padding: 32px;
    border-radius: 20px;
    box-shadow: var(--shadow-sm);
    max-width: 800px;
    margin: 0 auto;
    border: 1px solid rgba(0,0,0,0.05);
}

.form-row {
    display: flex;
    gap: 24px;
    margin-bottom: 24px;
}
.form-row.quantities {
    flex-wrap: wrap;
    gap: 16px;
}
.form-row.quantities .form-group {
    flex: 1 1 100px; /* grow, shrink, basis */
}

.form-group {
    flex: 1;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    color: var(--text-secondary);
    font-size: 13px;
}

.form-group input,
.form-group select {
    width: 100%;
    padding: 12px 16px;
    border: 1px solid var(--border-color);
    border-radius: 10px;
    font-size: 16px;
    color: var(--text-primary);
    transition: all 0.2s;
    background-color: white;
}

.form-group input:focus,
.form-group select:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 4px rgba(0, 122, 255, 0.1);
}

.form-group input[readonly] {
    background: var(--system-gray6);
    border-color: transparent;
    color: var(--text-secondary);
}

/* „É¢„Éº„ÉÄ„É´ */
.modal {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.4); /* Darker dim */
    backdrop-filter: blur(4px);
    z-index: 1000;
    justify-content: center;
    align-items: center;
}

.modal.active {
    display: flex;
    animation: modal-fade-in 0.2s ease-out;
}

@keyframes modal-fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
}

.modal-content {
    background: var(--card-background);
    border-radius: 20px;
    width: 90%;
    max-width: 600px;
    max-height: 85vh;
    overflow: auto;
    box-shadow: var(--shadow-lg);
    animation: modal-slide-up 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

@keyframes modal-slide-up {
    from { transform: translateY(40px) scale(0.95); opacity: 0; }
    to { transform: translateY(0) scale(1); opacity: 1; }
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 24px 32px;
    border-bottom: 1px solid var(--system-gray6);
    background: white;
    position: sticky;
    top: 0;
    z-index: 10;
}

.modal-header h2 {
    font-size: 22px;
    font-weight: 700;
    color: var(--text-primary);
}

.modal-close {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    border: none;
    background: var(--system-gray6);
    color: var(--text-secondary);
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 20px;
    cursor: pointer;
    transition: background 0.2s;
}

.modal-close:hover {
    background: var(--system-gray4);
    color: var(--text-primary);
}

.modal-content .form {
    padding: 32px;
    box-shadow: none; /* remove inner shadow */
    border: none;
    margin: 0;
    max-width: none;
}

.form-actions {
    display: flex;
    justify-content: flex-end;
    gap: 12px;
    margin-top: 32px;
    padding-top: 24px;
    border-top: 1px solid var(--system-gray6);
}

/* Tooltip - Larger & More Visible */
.custom-tooltip {
    position: fixed;
    z-index: 9999;
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    color: var(--text-primary);
    padding: 24px 32px; /* Increased padding */
    border-radius: 16px;
    box-shadow: 0 15px 50px rgba(0,0,0,0.25);
    font-size: 18px; /* Larger base font */
    max-width: 400px; /* Wider */
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.15s ease-in-out;
    border: 1px solid rgba(0,0,0,0.1);
}

.custom-tooltip.visible {
    opacity: 1;
}

.custom-tooltip .tooltip-header {
    font-size: 22px; /* Larger header */
    font-weight: 700;
    margin-bottom: 16px;
    padding-bottom: 12px;
    border-bottom: 2px solid var(--system-gray6);
    color: var(--text-primary);
}

.custom-tooltip .tooltip-row {
    display: flex;
    justify-content: space-between;
    margin: 8px 0;
    align-items: baseline;
    line-height: 1.4;
}

.custom-tooltip .tooltip-label {
    color: var(--text-secondary); /* Gray */
    margin-right: 24px;
    font-size: 16px; /* Larger label */
    font-weight: 500;
}

.custom-tooltip .tooltip-value {
    font-weight: 600;
    font-size: 20px; /* Larger value */
    text-align: right;
    color: var(--text-primary);
}

/* Date Selector */
.date-selector {
    display: flex;
    align-items: center;
    gap: 12px;
}

.date-selector input[type="date"] {
    padding: 8px 12px;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    font-family: inherit;
    font-size: 14px;
    background: white;
    color: var(--text-primary);
}

/* Filter Controls */
.filter-controls {
    display: flex;
    gap: 12px;
}

.filter-controls select {
    padding: 8px 32px 8px 12px;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    background-color: white;
    font-size: 14px;
    appearance: none;
    /* Custom chevron */
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%238E8E93' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right 8px center;
    background-size: 14px;
    color: var(--text-primary);
}

.filter-controls select:focus {
    border-color: var(--primary-color);
    outline: none;
}

/* Button utility for dangerous actions */
.btn-danger {
    background-color: #FFEBEA;
    color: var(--system-red);
}
.btn-danger:hover {
    background-color: #FFD4D1;
    box-shadow: none;
}

/* Edit button becomes standard secondary or primary */
.btn-edit {
    /* inherit primary or secondary styles based on usage in JS classes */
} 

/* Memo/„É°„É¢ styles - ExcelÂõ≥ÂΩ¢È¢®ÔºàÊû†„Å™„Åó„ÉªÂçäÈÄèÊòé„ÉªÈáç„Å™„ÇäÂèØÔºâ */
.gantt-row .gantt-row-content .gantt-bar.is-memo,
.gantt-bar.is-memo {
    z-index: 500 !important;
    position: absolute !important;
    pointer-events: auto !important;
    background: rgba(255, 243, 128, 0.85) !important;
    border: none !important;
    border-width: 0 !important;
    box-shadow: none !important;
    color: #333 !important;
    align-items: flex-start !important;
    padding: 10px 14px !important;
    border-radius: 6px !important;
    backdrop-filter: none !important;
}
.gantt-bar.is-memo:hover {
    background: rgba(255, 243, 128, 0.95) !important;
    transform: none !important;
    box-shadow: none !important;
    border: none !important;
}
.gantt-bar.is-memo .bar-product {
    color: #222 !important;
    font-weight: 500 !important;
    font-size: 14px !important;
    line-height: 1.5 !important;
    white-space: normal !important;
    overflow: hidden !important;
    text-shadow: none !important;
}
.gantt-bar.is-memo .bar-status,
.gantt-bar.is-memo .bar-quantity {
    display: none !important;
}

/* Shape/Âõ≥ÂΩ¢ styles - ExcelÂõ≥ÂΩ¢È¢®ÔºàÊû†„Å™„Åó„ÉªÂçäÈÄèÊòé„ÉªÈáç„Å™„ÇäÂèØÔºâ */
.gantt-row .gantt-row-content .gantt-bar.is-shape,
.gantt-bar.is-shape {
    z-index: 500 !important;
    position: absolute !important;
    pointer-events: auto !important;
    border: none !important;
    border-width: 0 !important;
    box-shadow: none !important;
    border-radius: 6px !important;
}
.gantt-bar.is-shape:hover {
    transform: none !important;
    box-shadow: none !important;
    border: none !important;
}
.gantt-bar.is-shape .bar-status,
.gantt-bar.is-shape .bar-quantity,
.gantt-bar.is-shape .bar-notes {
    display: none !important;
}

/* „Ç™„Éº„Éê„Éº„É¨„Ç§„Ç¢„Ç§„ÉÜ„É†Ôºà„É°„É¢„ÉªÂõ≥ÂΩ¢Ôºâ„ÅÆ„Çπ„Çø„Ç§„É´ - ÂÆåÂÖ®Êû†„Å™„Åó */
.gantt-overlay > div {
    border: none !important;
    box-shadow: none !important;
    border-radius: 0 !important;
    outline: none !important;
}

/* Âá°‰æã„Çπ„Çø„Ç§„É´ */
.status-legend {
    display: flex;
    gap: 16px;
    margin-left: 24px;
    padding: 6px 16px;
    background: rgba(0,0,0,0.03);
    border-radius: 99px;
    border: 1px solid rgba(0,0,0,0.03);
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 12px;
    font-weight: 600;
    color: var(--text-secondary);
}

.legend-marker {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    display: inline-block;
    box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}

/* Âá°‰æã„Éû„Éº„Ç´„Éº„Ç´„É©„Éº */
.legend-marker.status-pending {
    background: linear-gradient(135deg, #FF9F0A, #FFB340);
}

.legend-marker.status-inprogress {
    background: linear-gradient(135deg, #007AFF, #5AC8FA);
}

.legend-marker.status-completed {
    background: linear-gradient(135deg, #8E8E93, #AEAEB2);
}

/* =========================================
   Admin Mode Schedule List Coloring
   ========================================= */

/* ÁîüÁî£‰∏≠: ËñÑ„ÅÑÈùí (System Blue) - Admin Mode */
body:not(.mode-worker) .schedule-table tr.row-production {
    background-color: rgba(0, 122, 255, 0.05);
    border-left: 4px solid var(--system-blue);
}

body:not(.mode-worker) .schedule-table tr.row-production td {
    color: var(--system-blue);
    font-weight: 500;
}

/* ÂÆå‰∫Ü: ËñÑ„ÅÑ„Ç∞„É¨„Éº - Admin Mode */
body:not(.mode-worker) .schedule-table tr.row-completed {
    background-color: rgba(142, 142, 147, 0.1);
    color: var(--text-secondary);
}

/* ÂæÖÊ©ü (Pending) „ÅØ„Éá„Éï„Ç©„É´„ÉàÔºàÁôΩÔºâ„ÅÆ„Åæ„Åæ */


/* =========================================
   Worker Mode Styles (High Contrast & Large Text)
   ========================================= */
body.mode-worker {
    --worker-text-size-lg: 20px;
    --worker-text-size-xl: 28px;
    --worker-bar-height: 140px; /* Taller bars */
}

/* Hide non-essential elements in Worker Mode */
body.mode-worker .header-actions,
body.mode-worker .btn-settings, 
body.mode-worker #btn-sync-to-kintone,
body.mode-worker #btn-test-data,
body.mode-worker #btn-copy-prev-shapes {
    display: none !important;
}

/* Larger Gantt Rows */
body.mode-worker .gantt-row {
    min-height: 160px; /* Increase row height */
}

body.mode-worker .gantt-row-label {
    font-size: 20px; /* Larger date labels */
    width: 160px;
}

body.mode-worker .gantt-timeline > div {
    font-size: 16px; 
    font-weight: 700;
}

/* Larger Schedule Bars */
body.mode-worker .gantt-bar {
    height: 130px !important; /* Force taller bars */
    padding: 12px 20px;
}

/* Product Name - VERY LARGE */
body.mode-worker .bar-product {
    font-size: 26px !important;
    margin-bottom: 8px;
}

/* Quantity - LARGE */
body.mode-worker .bar-quantity {
    font-size: 22px !important;
}

/* Notes - LARGE */
body.mode-worker .bar-notes {
    font-size: 22px !important;
    margin-top: 6px;
}

/* Status Styling for Worker Mode */

/* Status Styling for Worker Mode - COLORFUL VERSION */

/* 1. Production (In Progress) -> Vibrant Green/Blue to show activity */
body.mode-worker .gantt-bar.status-inprogress {
    background: #e8f5e9; /* Light Green BG */
    border: 4px solid #2e7d32; /* Strong Green Border */
    color: #1b5e20;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    animation: worker-pulse 2s infinite;
}
body.mode-worker .gantt-bar.status-inprogress .bar-product {
    color: #2e7d32;
    text-decoration: underline;
}

/* 2. Pending (Not Started) -> White with Blue Accent */
body.mode-worker .gantt-bar.status-pending {
    background: #fff;
    border: 2px solid #90caf9; /* Soft Blue Border */
    border-left: 8px solid #2196f3; /* Thick Blue Left Bar */
    color: #333;
}
body.mode-worker .gantt-bar.status-pending .bar-product {
    color: #1565c0;
}

/* 3. Completed -> Dark Grey / Receded */
body.mode-worker .gantt-bar.status-completed {
    background: #e0e0e0;
    border: 2px solid #9e9e9e;
    color: #757575;
    opacity: 0.7;
}
/* Strike-through for completed product names */
body.mode-worker .gantt-bar.status-completed .bar-product {
    text-decoration: line-through;
    color: #616161;
}

/* Add icons via CSS pseudo-elements for quick recognition */
body.mode-worker .gantt-bar.status-inprogress::after {
    content: "üîÑ ÁîüÁî£‰∏≠";
    position: absolute;
    top: 4px;
    right: 4px;
    font-size: 14px;
    font-weight: bold;
    color: #2e7d32;
    background: rgba(255,255,255,0.8);
    padding: 2px 6px;
    border-radius: 4px;
}

body.mode-worker .gantt-bar.status-pending::after {
    content: "‚è≥ ÂæÖÊ©ü";
    position: absolute;
    top: 4px;
    right: 4px;
    font-size: 12px;
    color: #1565c0;
    background: #e3f2fd;
    padding: 2px 6px;
    border-radius: 4px;
}

@keyframes worker-pulse {
    0% { box-shadow: 0 0 0 0 rgba(33, 150, 243, 0.4); }
    70% { box-shadow: 0 0 0 10px rgba(33, 150, 243, 0); }
    100% { box-shadow: 0 0 0 0 rgba(33, 150, 243, 0); }
}

/* =========================================
   Worker Mode Legend Updates
   ========================================= */
body.mode-worker .legend-marker.status-inprogress {
    background: #e8f5e9;
    border: 3px solid #2e7d32;
    box-shadow: 0 0 5px rgba(46, 125, 50, 0.5);
}

body.mode-worker .legend-marker.status-pending {
    background: #fff;
    border: 2px solid #90caf9;
    border-left: 6px solid #2196f3;
}

body.mode-worker .legend-marker.status-completed {
    background: #e0e0e0;
    border: 2px solid #9e9e9e;
    opacity: 0.7;
}

/* =========================================
   Worker Mode Schedule List (Table)
   ========================================= */
body.mode-worker .schedule-table {
    font-size: 18px; /* Base larger font */
}

body.mode-worker .schedule-table th {
    background: #333;
    color: white;
    padding: 16px;
    font-size: 19px;
}

body.mode-worker .schedule-table td {
    padding: 16px 12px;
    border-bottom: 2px solid #eee;
}

/* Status-based Row Coloring in List */
/* Since rows don't have status classes by default in current HTML generation, 
   we might need to rely on the badge colors or Javascript updates.
   However, assuming we want general readability first: */

body.mode-worker .schedule-table td:nth-child(2) { /* Product Name */
    font-size: 22px;
    font-weight: bold;
    color: #333;
}

body.mode-worker .schedule-table td:nth-child(5) { /* Quantity */
    font-size: 20px;
    font-weight: bold;
}

body.mode-worker .status-badge {
    padding: 6px 14px;
    font-size: 16px;
    border-radius: 6px;
}

/* Worker Mode Table Status Badges */
body.mode-worker .status-badge.status-production {
    background: #e8f5e9;
    color: #1b5e20;
    border: 2px solid #2e7d32;
    font-weight: bold;
}

body.mode-worker .status-badge.status-scheduled {
    background: #fff;
    color: #1565c0;
    border: 2px solid #2196f3;
}

body.mode-worker .status-badge.status-completed {
    background: #e0e0e0;
    color: #616161;
    border: 1px solid #9e9e9e;
}

/* Row-based Coloring for Worker Mode List */
body.mode-worker tr.row-production {
    background-color: #e8f5e9 !important; /* Light Green */
    border-left: 6px solid #2e7d32;
}
body.mode-worker tr.row-production td {
    font-weight: bold;
    color: #1b5e20;
}

body.mode-worker tr.row-pending {
    /* Standard White, maybe slight blue tint */
    background-color: #ffffff;
    border-left: 6px solid #2196f3;
}

body.mode-worker tr.row-completed {
    background-color: #eeeeee !important; /* Grey */
    border-left: 6px solid #9e9e9e;
    opacity: 0.6;
}
body.mode-worker tr.row-completed td {
    color: #757575;
}

/* ========== ÈúÄÁµ¶„Éê„É©„É≥„Çπ„Éì„É•„Éº ========== */
#balance-view .view-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 16px;
}
#balance-view .view-header h2 {
    margin: 0;
    font-size: 20px;
    font-weight: 700;
    color: #1d1d1f;
}
#btn-refresh-balance {
    padding: 6px 14px;
    background: #0071e3;
    color: #fff;
    border: none;
    border-radius: 8px;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s;
}
#btn-refresh-balance:hover {
    background: #0077ed;
}
#balance-status {
    font-size: 12px;
    color: #86868b;
    margin-left: 8px;
}

.balance-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 12px;
    table-layout: fixed;
}
.balance-table thead th {
    position: sticky;
    top: 0;
    z-index: 2;
    padding: 8px 4px;
    background: #f5f5f7;
    color: #1d1d1f;
    font-weight: 600;
    text-align: center;
    border-bottom: 2px solid #e5e5e5;
    font-size: 11px;
}
.balance-day-name {
    font-size: 10px;
    font-weight: 400;
    color: #86868b;
}
.balance-product-col {
    width: 80px;
    text-align: left !important;
    padding-left: 10px !important;
    white-space: nowrap;
}
.balance-inv-col {
    width: 60px;
    text-align: right !important;
    padding-right: 8px !important;
    font-weight: 600;
    color: #1d1d1f;
}
.balance-row {
    border-bottom: 1px solid #f0f0f0;
    transition: background 0.15s;
}
.balance-row:hover {
    background: #fafbfc;
}
.balance-row td {
    padding: 6px 4px;
    text-align: center;
    vertical-align: middle;
}

/* ‰ªäÊó•„Éè„Ç§„É©„Ç§„Éà */
.balance-today {
    background: rgba(0, 113, 227, 0.06) !important;
    border-left: 2px solid #0071e3;
    border-right: 2px solid #0071e3;
}
thead .balance-today {
    background: rgba(0, 113, 227, 0.12) !important;
    color: #0071e3;
}

/* ÈÄ±Êú´ */
.balance-weekend {
    background: rgba(0, 0, 0, 0.02);
}
thead .balance-weekend {
    color: #ff3b30;
}

/* „Éê„É©„É≥„ÇπÂÄ§„ÅÆËâ≤ÂàÜ„Åë */
.balance-positive .balance-val {
    color: #1d1d1f;
    font-weight: 600;
}
.balance-warning {
    background-color: rgba(255, 149, 0, 0.08) !important;
}
.balance-warning .balance-val {
    color: #ff9500;
    font-weight: 700;
}
.balance-negative {
    background-color: rgba(255, 59, 48, 0.08) !important;
}
.balance-negative .balance-val {
    color: #ff3b30;
    font-weight: 700;
}

/* „Çª„É´ÂÜÖ„É¨„Ç§„Ç¢„Ç¶„Éà */
.balance-cell {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1px;
    line-height: 1.2;
}
.balance-val {
    font-size: 12px;
}
.balance-detail {
    font-size: 9px;
    display: flex;
    gap: 3px;
    opacity: 0.7;
}
.balance-prod {
    color: #34c759;
}
.balance-ship {
    color: #ff3b30;
}

/* Âá°‰æã */
.balance-legend {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 12px 10px;
    margin-top: 8px;
    font-size: 11px;
    color: #86868b;
    border-top: 1px solid #f0f0f0;
}
.balance-legend-item {
    display: flex;
    align-items: center;
    gap: 4px;
}
.balance-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    display: inline-block;
}
.balance-legend-info {
    margin-left: auto;
    font-size: 10px;
}

